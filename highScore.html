<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Code Quiz</title>
  <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>

  <main class="page-content" id="page-content">
    <section id="high-score">
      <h1>High Scores</h1>
      <p id="high-scores-zone"> </p>
      <button onclick="window.location.href='./index.html'">Go back</button>
      <button id="clear-scores">Clear high scores</button>
    </section>
  </main>

  <script>
    // detect the clear button
    var clearButtonEl= document.getElementById("clear-scores");

    // display high scores
    var highScoresDisplay = function() {
        var scoreZoneEl= document.getElementById("high-scores-zone");
        var scoreUlEl = document.createElement("ul");
        scoreUlEl.id = "score-list";
        scoreZoneEl.appendChild(scoreUlEl);

        if (localStorage.getItem("initials-score"))
        { 
            var currentHighScoresD = JSON.parse(localStorage.getItem("initials-score"));
            for (var i = 0; i < currentHighScoresD.length; i++) {
                    j=i+1;
                    var scoreEl = document.createElement("li");
                    scoreEl.textContent= j +". "+ currentHighScoresD[i].initials +" "+currentHighScoresD[i].score ;
                    scoreUlEl.appendChild(scoreEl);
            };       
                    
        };
    };

    // clear high scores
    var clearScoresHandler = function() {
        if (localStorage.getItem("initials-score"))
        { 
            localStorage.setItem("initials-score",[]);

            var scoreUlEl= document.getElementById("score-list");
            scoreUlEl.remove();

            var scoreZoneEl= document.getElementById("high-scores-zone");
            var scoreUlEl = document.createElement("ul");
            scoreUlEl.id = "score-list";
            scoreZoneEl.appendChild(scoreUlEl);
        };
    };

    // display high scores 
    highScoresDisplay();

    // clear the high scores
    clearButtonEl.addEventListener("click", clearScoresHandler);
 </script>

</body>

</html>